@page "/survey"

@using ISAProjekat23.Model.Domain;

@inject HttpClient Http
@inject ILocalStorageService LocalStorage
@inject HttpClient Http
@inject NavigationManager NavManager

<PageTitle>Survey</PageTitle>


<h2 class="mb-4">Survey</h2>

<div class="container my-5">

    <!--<div class="row registration-form mb-4">
        <div class="col-md-8">
                <h3 class="mb-4">Your info</h3>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="email" class="form-label">Email address</label>
                        <input @bind="@user.Email" type="email" class="form-control" id="email" placeholder="Enter your email" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="firstName" class="form-label">First name</label>
                        <input @bind="@user.FirstName" type="text" class="form-control" id="firstName" placeholder="Enter your first name" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="lastName" class="form-label">Last name</label>
                        <input @bind="@user.LastName" type="text" class="form-control" id="lastName" placeholder="Enter your last name">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="address" class="form-label">Address</label>
                        <input @bind="@user.Address" type="text" class="form-control" id="address" placeholder="Enter address where you currently reside">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="city" class="form-label">City</label>
                        <input @bind="@user.City" type="text" class="form-control" id="city" placeholder="Enter your city">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="country" class="form-label">Country</label>
                        <input @bind="@user.Country" type="text" class="form-control" id="country" placeholder="Enter your country">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="phoneNumber" class="form-label">Phone number</label>
                        <input @bind="@user.Phone" type="tel" class="form-control" id="phoneNumber" placeholder="Enter your phone number" pattern="^(\+\d{1,3}\s?\d{2}|0\d{2}[\s\/\-]?)([\s\-]?\d){6,8}$">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="jmbg" class="form-label">JMBG</label>
                        <input @bind="@user.JMBG" type="number" class="form-control" id="jmbg" placeholder="Enter your JMBG" pattern="\d{13}" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="gender" class="form-label">Gender</label>
                        <select @bind="@user.Gender" class="form-control" id="gender" name="gender" placeholder="Select your gender" required>
                            <option value="0">Male</option>
                            <option value="1">Female</option>
                            <option value="2">Rather not say</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="occupation" class="form-label">Occupation</label>
                        <input @bind="@user.Occupation" type="text" class="form-control" id="occupation" placeholder="Enter your occupation">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="workplace" class="form-label">Workplace</label>
                        <input @bind="@user.Workplace" type="text" class="form-control" id="workplace" placeholder="Enter your workplace">
                    </div>
                </div>
        </div>
    </div>-->

    <div class="container mt-5">
        <!--<h3>Survey</h3>-->

        <form>
            <div class="mb-4">
                <p>1. Da li ste do sada dobrovoljno davali krv ili komponente krvi?</p>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question1" id="q1Yes" value="yes">
                    <label class="form-check-label" for="q1Yes">
                        Yes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question1" id="q1No" value="no">
                    <label class="form-check-label" for="q1No">
                        No
                    </label>
                </div>
            </div>

            <div class="mb-4">
                <p>2. Da li ste ikada bili odbijeni kao davalac krvi ili komponente krvi?</p>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question2" id="q2Yes" value="yes">
                    <label class="form-check-label" for="q2Yes">
                        Yes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question2" id="q2No" value="no">
                    <label class="form-check-label" for="q2No">
                        No
                    </label>
                </div>
            </div>

            <div class="mb-4">
                <p>3. Da li se trenutno osećate zdravim, sposobnim i odmornim da date krv ili komponente krvi?</p>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question3" id="q3Yes" value="yes">
                    <label class="form-check-label" for="q3Yes">
                        Yes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question3" id="q3No" value="no">
                    <label class="form-check-label" for="q3No">
                        No
                    </label>
                </div>
            </div>

            <div class="mb-4">
                <p>4. Da li ste imali ubode krpelja u proteklih 12 meseci i da li ste se zbog toga javljali lekaru?</p>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question4" id="q4Yes" value="yes">
                    <label class="form-check-label" for="q4Yes">
                        Yes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question4" id="q4No" value="no">
                    <label class="form-check-label" for="q4No">
                        No
                    </label>
                </div>
            </div>

            <div class="mb-4">
                <p>5. Da li dugo krvarite posle povrede ili spontano dobijate modrice?</p>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question5" id="q5Yes" value="yes">
                    <label class="form-check-label" for="q5Yes">
                        Yes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question5" id="q5No" value="no">
                    <label class="form-check-label" for="q5No">
                        No
                    </label>
                </div>
            </div>

            @if (user.Gender != Model.Domain.Enums.EUserGender.Male)
            {
                <div class="mb-4">
                    <p>6. Da li ste u drugom stanju?</p>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="question6" id="q6Yes" value="yes">
                        <label class="form-check-label" for="q6Yes">
                            Yes
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="question6" id="q6No" value="no">
                        <label class="form-check-label" for="q6No">
                            No
                        </label>
                    </div>
                </div>

                <div class="mb-4">
                    <p>7. Da li trenutno imate menstruaciju?</p>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="question7" id="q7Yes" value="yes">
                        <label class="form-check-label" for="q7Yes">
                            Yes
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="question7" id="q7No" value="no">
                        <label class="form-check-label" for="q7No">
                            No
                        </label>
                    </div>
                </div>
            }

            <!-- Add more questions here -->

            <button type="submit" class="btn btn-primary mt-3">Submit</button>
        </form>
    </div>

</div>

@code {
    private User user = new User();
    protected override async Task OnInitializedAsync()
    {
        user = await LocalStorage.GetItemAsync<User>("currentUser");
    }
    
}
